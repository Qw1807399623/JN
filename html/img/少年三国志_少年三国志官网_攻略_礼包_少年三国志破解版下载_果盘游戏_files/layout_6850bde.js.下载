function throttle(t,a){var e,i=t,n=!0;return function(){var o=arguments,r=this;return n?(t.apply(r,o),n=!1):e?!1:void(e=setTimeout(function(){clearTimeout(e),e=null,i.apply(r,o)},a||500))}}function relationSearch(t,a,e){function i(t,e){var i=t.find(".relationSearchList");if(i.length>0&&i.remove(),0!=e.length){for(var n='<ul class="relationSearchList">',r=0;r<e.length;r++){var l=e[r];n+='<li><a href="'+l.link+'" target="_blank" title="'+l.title+'">'+l.title+"</a></li>"}n+="</ul>",i=$(n),i.css(o?{"margin-left":t.find(".scope").width(),width:a.width()-2}:{width:a.width()+8}),t.append(i),t.on("click",".relationSearchList li",function(){var t=$(this).text();$(this).parent().remove(),a.val(t)})}}var n=t.find('input[name="type"]'),o=n.length>0?n:"",r=$.trim(a.val()),l={};l.s=r,l.from="pc",o?("游戏"===o.val()&&(l.block=20),"礼包"===o.val()&&(l.block=27),"资讯"===o.val()&&(l.block=28)):l.block=20,$.ajax({type:"GET",url:e,data:l,dataType:"json"}).done(function(a){i(t,a.datas)}),$("body").on("click",function(){$(".relationSearchList").length&&$(".relationSearchList").hide()})}function gpAjax(){return 0!=$("[data-gp-ajax]").length?void 0==gpID.api.gpAjax?void console.log("gpID.api.gpAjax is not set"):void $("[data-gp-ajax]").each(function(){var t=$(this);$.ajax({url:gpID.api.gpAjax,timeout:3e4,dataType:"json",type:"GET",data:$.extend({block:$(t).data("gpAjax")},$(t).data()),success:function(a){0==a.code&&($(t).html(a.html),"function"==typeof window.gpAjaxCb[$(t).data("gpAjax")]&&window.gpAjaxCb[$(t).data("gpAjax")]())},error:function(){$(t).html("")}})}):void 0}function syncScroll(t){t.css("position","relative"),$(window).bind("load",function(){$(window).scroll(function(){var a=t;if(a.length>0){var e=a.offset().top,i=[],n=[],o=0,r=-1;if(a.children().each(function(t){i[t]=$(this),n[t]=i[t].height(),n[t]>o&&(o=n[t],r=t)}),o>$(window).height()&&n[1]>$(window).height()){i.splice(r,1),n.splice(r,1);for(var l=$(this).scrollTop(),s=$(this).height(),c=0;c<i.length;c++){var p=0;if(l>e&&(p=(l-e)/(o-s),p=p>1?o-n[c]:p*(o-n[c]),n[c]<s)){if(p=l-e,l+n[c]>e+o){var d=o-n[c];return void i[c].css({top:d+"px",position:"absolute"})}return void i[c].css({top:"0px",position:"fixed"})}i[c].css({top:p+"px",position:"relative"})}}}})})}function pageSplit(t){var a=t.html(),e="_ueditor_page_break_tag_",i=[];if(i=a.split(e),1!==i.length){var n=i.length;(""==$.trim(i[0])||$(i[0]).length>0&&""==$.trim($(i[0]).text()))&&(i.shift(),n=i.length),(""==$.trim(i[n-1])||$(i[n-1]).length>0&&""==$.trim($(i[n-1]).text()))&&(i.splice(n-1,1),n=i.length);var o='<div class="contents-container">',r='<div class="pages-container">';t.html("");for(var l=0;n>l;l++){var s=i[l],c=0===l?"active":"";o+='<div class="content-container '+c+'" id="content-'+l+'">'+s+"</div>"}o+="</div>",t.append(o);for(var l=0;n>l;l++){var c=0===l?"active":"";r+='<a href="javascript:;" class="page-item '+c+'" data-page="content-'+l+'">'+(l+1)+"</a>"}r+='<a href="javascript:;" class="page-item see-full">在本页内浏览全文</a>',r+="</div>",t.append(r),t.on("click",".page-item",function(){var a=$(this);if(a.addClass("active").siblings().removeClass("active"),a.hasClass("see-full"))$(".content-container").addClass("active"),$(".pages-container").remove();else{var e=$("#"+a.data("page"));e.addClass("active").siblings().removeClass("active")}a.hasClass("see-full")||$("body, html").animate({scrollTop:t.parent().offset().top},500),$(".main").length>0&&$(".side").length>0&&($(".main").css({position:"relative",top:"0"}),$(".side").css({position:"relative",top:"0"}))})}}function pushbd(t,a,e){if("弹出窗游戏下载"===e){var i=getType(a,e);a=i.action,e=i.label}return _hmt.push(["_trackEvent",t,a,e])}function getType(t,a){var e="",i="";return"/"==location.pathname?(e="home-",i="官网首页-"):isTest("/kaifu")?(e="kaifu-",i="开服开测-"):isTest("/pojie/\\d+")?(e="pojieClass-",i="破解分类游戏-"):isTest("/pojie/top/")?(e="pojieAdroidTop-",i="安卓破解排行-"):isTest("/pojie/top_ios/")?(e="pojieIosTop-",i="苹果破解排行-"):"/pojie/"==location.pathname?(e="pojie-",i="破解首页游戏-"):isTest("/libao/\\d+")?(e="libaoInfo-",i="礼包详情页面右边栏-"):isTest("/libao/allgame/")&&(e="libaoAllGame-",i="礼包全部游戏-"),{action:e+t,label:i+a}}function isTest(t){var a=location.href;return new RegExp(t).test(a)?!0:!1}var aalert=alert;void 0==window.console&&(window.console=function(){}),window.getUrlParams=function(){var t={};return location.search.replace(/([^?&]*?)=([^&]*)/g,function(a,e,i){t[e]=i}),t},$(function(){setTimeout(function(){1==getUrlParams().bind&&pop.globalPopup("#bindModal",pop.initForm.bind);var t=getUrlParams().wxbindstr;t&&100==t&&alert("绑定异常"),t&&200==t&&alert("绑定成功"),t&&300==t&&alert("绑定失败"),t&&400==t&&alert("绑定失败，当前微信号已绑定其他果盘号"),t&&401==t&&alert("你的账号已经绑定过"),t&&500==t&&alert("验证过期"),t&&600==t&&alert("请先登入")},100),0==$(".gameComment").length&&pop.checkLogin(),gpAjax()}),window.gpAjaxCb=window.gpAjaxCb||[],window.bookMark=function(){"undefined"==typeof window.external.AddFavorite?aalert("请按Ctrl+D收藏本页"):window.external.AddFavorite(location.href,document.title)},$(function(){var t=$('[data-paging="true"]');t.length&&pageSplit(t);var a=$(".search-c"),e=a.find('input[name="name"]');e.on("focus",function(){$(this).val("")}),e.on("keyup",throttle(function(){relationSearch(a,e,gpID.api.gpAjax)},500));var i=a.find('input[name="game"]');i.on("focus",function(){$(this).val("")}),i.on("keyup",throttle(function(){relationSearch(a,i,gpID.api.gpAjax)},500))}),$("body").on("click","[data-hmt]",function(){var t=$(this).data("hmt"),a=t.split(",");pushbd.apply(null,a)}),$("body").on("click","[data-ga]",function(){if(""!=$(this).data("ga")){var t=$(this).data("ga").split(",");ga("send","event",t[0],t[1],t[2])}}),window.xxTongji=function(){function t(t){var e=t.dataset||{};return a(e)}function a(t){for(var a={},e=["eventkey","tab","bannerid","pkg","gamename","sort","platform","package","searchword","feature","method"],i=0,n=e.length;n>i;i++){var o=e[i];void 0!=t[o]&&""!=t[o]&&(a[o]=t[o])}return a}function e(t){return $.get(gpID.api.tongjiURL+"/images/pc.gif?productid=1002",t)}return{getElement:t,getTongjiParam:a,getTongji:e}}(),function(){var t=$("[data-eventkey]");$.each(t,function(t,a){$(a).off("click").on("click",function(){var t=xxTongji.getElement(this);xxTongji.getTongji(t)})})}();
;"use strict";function classfy(){this.db={},this.it=function(n,t,e){this.db[n]={desc:t,fn:e}},this.checkTable={},this.addCheck=function(n,t){this.checkTable[n]=this.checkTable[n]||{};for(var e in t)this.checkTable[n][t[e]]=this.db[t[e]]},this.getdb=function(){console.log(this.db)},this.check=function(n){if("undefined"==typeof n)return{code:-1};for(var t in n)if(!n[t].fn())return{code:parseInt(t),desc:n[t].desc};return{code:0}},this.api={}}var gpID=new classfy;gpID.it(100,"username should not be empty",function(){return 0!=$("#loginUser").val().length}),gpID.it(101,"username should more than 6 chart",function(){return $("#loginUser").val().length>=6}),gpID.it(102,"username should less than 20 chart",function(){return $("#loginUser").val().length<=20}),gpID.it(103,"username should not be empty",function(){return 0!=$("#signUpUser").val().length}),gpID.it(104,"username should more than 6 chart",function(){return $("#signUpUser").val().length>=6}),gpID.it(105,"username should less than 20 chart",function(){return $("#signUpUser").val().length<=20}),gpID.it(106,"the first chart of username should be letter",function(){var n=new RegExp("^[a-zA-Z]");return null!=n.exec($("#signUpUser").val())}),gpID.it(107,"user name should not have special chart",function(){var n=new RegExp("'/[,|*| ]/'");return null!=n.exec($("#signUpUser").val())}),gpID.it(200,"password should not be empty",function(){return 0!=$("#loginPsw").val().length}),gpID.it(201,"password should be same",function(){return $("#signUpPsw").val()==$("#signUpCheckPsw").val()}),gpID.it(202,"password should more than 6 chart",function(){return $("#loginPsw").val().length>=6}),gpID.it(203,"password should less than 16 chart",function(){return $("#loginPsw").val().length<=16}),gpID.it(204,"password should not be empty",function(){return 0!=$("#signUpPsw").val().length}),gpID.it(205,"password should more than 6 chart",function(){return $("#signUpPsw").val().length>=6}),gpID.it(206,"password should less than 16 chart",function(){return $("#signUpPsw").val().length<=16}),gpID.it(300,"captcha should not be empty",function(){return 0!=$("#signUpCode").val().length}),gpID.addCheck("login",[100,101,102,200,202,203]),gpID.addCheck("signUp",[103,104,105,106,204,205,206,201]);
;define("gpgame:widget/common/aside/aside.js",function(){"use strict";!function(o){function i(){o.cookie("hideAppQr")?c=!1:setTimeout(function(){e.addClass("active"),n.stop().fadeIn(300),t.stop().fadeIn(300),c=!0},700),t.on("click",function(){n.hide(),t.hide(),e.removeClass("active"),c=!1,o.cookie("hideAppQr","hideAppQr",{expires:1,path:"/"})}),e.hover(function(){!c&&n.stop().fadeIn(300)},function(){!c&&n.stop().fadeOut(300)})}var e=o(".scroll_list.cilent"),n=e.find("img"),t=e.find(".qrclose"),c=!0;return i}(jQuery);$(function(){function o(){e.scrollTop()<178?n.find("#scrollTop").hide():n.find("#scrollTop").show()}var i=$(window),e=$(document),n=$(".scrollwrap");i.on("scroll",function(){o()}),o(),n.find("#scrollTop").on("click",function(){$("html, body").animate({scrollTop:0},"slow")}),$("#scrollwrap .share").hover(function(){$(this).find(".shareList").stop().fadeIn()},function(){$(this).find(".shareList").stop().fadeOut()}),$(".scroll_list.qq").on("click",function(){window.open("http://b.qq.com/webc.htm?new=0&sid=800032344&o=果盘游戏客服&q=7")}),$(".adviceContent .submitBtn").click(function(){return void 0==gpID.api.adviceReciver?void console.log("gpID.api.adviceReciver is not set"):""==$(".adviceContent textarea").val()?(alert("请填写建议内容, 谢谢"),!1):void $.ajax({type:"POST",url:gpID.api.adviceReciver,dataType:"json",data:{jianyi:$(".adviceContent textarea").val(),uname:$("#loginUserName>a").text()},success:function(){aalert("提交成功，谢谢"),pop.globalPopup()},error:function(){aalert("反馈失败！")}})})})});
;define("gpgame:widget/common/footApp/footApp.js",function(){var t=$(".guide-app-fix"),e=$(".guide-app-close");e.on("click",function(){t.stop().fadeOut(200)}),$(function(){var e=$(".guide-app-btn").find("a");if(e.length>0){var a=e.attr("href")+"&t="+parseInt((new Date).getTime()/1e3);e.attr("href",a)}setTimeout(function(){t.addClass("animated")},700)})});
;define("gpgame:widget/common/footer/footer.js",function(){"use strict";function o(){var o=$("#footer").outerHeight(),e=window.innerHeight||document.documentElement.clientHeight;($("#footer").hasClass("bottom")?e-o:e)>$("body").height()?$("#footer").addClass("bottom"):$("#footer").removeClass("bottom")}o(),$(window).on("resize",function(){o()}),setInterval(o,2e3)});
;define("gpgame:widget/common/header/header.js",function(){$(function(){function e(){var e=$(document).scrollTop();e>=s?(n.css({height:t}),o.addClass("fixed").stop(!1,!1).animate({top:0},120)):(o.removeClass("fixed").removeAttr("style"),n.css({height:"auto"}))}var o=$("#nav"),s=o.offset().top,n=$("#header"),t=parseFloat(n.outerHeight()+o.outerHeight());$(window).on("scroll",function(){e()}),e(),$("#scope, #scopes li.scope-hide").on("click",function(){var e=$("#scope"),o=$("#scopes");e.hasClass("open")?(e.removeClass("open"),o.removeClass("open")):(e.addClass("open"),o.addClass("open"))}),$("#scopes li:not(.scope-hide)").on("click",function(){var e=$(this),o=$("#scope");o.text(e.text()).removeClass("open"),$("#searchType").val(e.text()),e.parent().removeClass("open")}),$("#scopes").on("mouseleave",function(e){e.stopPropagation();var o=$(this);o.removeClass("open"),$("#scope").removeClass("open")}),window.goCharge=function(){var e=$("#headChargeEntryLink");window.location.href=e.attr("href")},$("#headChargeEntry").on("click",function(){if($.cookie("uid"))goCharge();else{var e=$("#rightNowLogin"),o="pop.login(goCharge)";e.attr("onclick",o),$("#userNotLogin .loginHref").trigger("click")}})})});
;define("gpgame:widget/common/nav/nav.js",function(){});
;define("gpgame:widget/popupRoot/authorization/authorization.js",function(require,exports,module){"use strict";function verifyPhone(e){var n=!1;return e.val()?/^1\d{10}$/.test(e.val())?(e.siblings(".warning").hide(),n=!0):e.siblings(".warning").text("手机号码格式不正确").show():e.siblings(".warning").text("请输入手机号码").show(),n}function checkEmpty(e){var n=!1;for(var o in e){if(!$(e[o]).val()||$(e[o]).hasClass("err")){n=!1;break}n=!0}return n}function setInputEven(e,n,o,i){$(e).on("keypress",function(i){(13==i.keyCode||13==i.whick)&&($(e).val()&&checkEmpty(n)?$(o).addClass("enable").trigger("click"):$(o).removeClass("enable"))}).on("focus",function(){$(e).siblings(".warning").hide()}).on("blur keyup",function(){$(e).val()&&checkEmpty(n)?$(o).addClass("enable"):$(o).removeClass("enable")}),"function"==typeof i&&i()}var signWithReal=$.get("http://www.guopan.cn/user/api/apiSwitchRegister.php"),swr=!1;signWithReal.done(function(e){"on"==e&&(swr=!0,$("#signModal,#signPhoneModal").addClass("signWithReal"))}),gpID.api.m_getCode="/user/api/bandphone_new.php",gpID.api.m_register="/user/api/register.php",gpID.api.bindGP="/wxlogin/",1==getUrlParams().bind&&($("#signModal .back").attr("onclick","pop.globalPopup('#bindModal',pop.initForm.bind);"),$("#signPhoneModal .back").attr("onclick","pop.globalPopup('#bindModal',pop.initForm.bind);")),window.bookMark=function(){"undefined"==typeof window.external.AddFavorite?alert("请按Ctrl+D收藏本页"):window.external.AddFavorite(location.href,document.title)},window.ajaxLogin=function(e){if($("#rightNowLogin").removeClass("enable"),""==e.err){var n=e.userinfo,o="";o+='<div class="loginAreaNew clearfix" id="userLogined">',o+='	  <span class="loginHref">',o+='             <span class="userNameNew" id="loginUserName"><a href="'+n.personer_url+'">'+n.name+'</a><i class="loginUserIcon"></i>',o+='        	<div class="userInfoNew">',o+='            	<ul class="userInfoList">',o+='                	<li><a href="'+n.personer_url+'" class="compatibleZone" target="_blank"><img src="'+n.headImg+'" class="userHeadImg" width="55" height="55" /></a>',o+='			<p class="usName"><a href="'+n.personer_url+'" target="_blank" style="display: block;text-overflow: ellipsis;white-space: nowrap;overflow: hidden;">'+n.name+'</a></p><p class="usName">',o+='<a target="_blank" href="'+n.security_url+'" style="color:#e73c44;">账户管理</a> <span class="bar-line">|</span> ',o+='			<a href="javascript:;" onclick="pop.loginout();" >退出</a></p></li>',o+='                    <li><p>余额：<em class="guobi-left">'+ +(n.guobi?parseFloat(n.guobi).toFixed(2):"0.00")+'果币</em></p><a target="_blank" href="'+gpID.api.chargeEntry+'" class="recharge">充值</a></li>',o+='                    <li class="lastList clearfix"><a href="'+n.personer_url+'" target="_blank">我的小组</a><a href="'+n.mypost_url+'" target="_blank">我的帖子</a>',o+='<a href="'+n.libao_url+'" style="margin-right:0;" target="_blank">存号箱</a></li>',o+="                </ul>",o+="          </div></span>",o+="        </span>",o+='		<span class="shareNew" onclick="window.bookMark();">收藏</span>',o+="	</div>",$(".loginArea").replaceWith(o),$(".menu").addClass("logined")}},window.getKeyInfo=function(e,n,o){$.ajax({url:gpID.api.checkUserExist,timeout:1e4,type:"GET",data:{u:$("#"+e).find(".user").val(),uid:window.uid||"",s:1},success:function(i){console.log("ajax ",i,i.length),1==i.length?(exports.showWarn("#"+e+" .warn_501"),$("#"+e).find(".btn-sign").addClass("enable")):n(e,i.replace('"',"").replace('"',""),o)},error:function(){console.log("ajax fail"),exports.showWarn("#"+e+" .warn_500"),$("#"+e).find(".btn-sign").addClass("enable")}})},window.toLogin=function(e,n){$.ajax({url:gpID.api.login,timeout:1e4,type:"POST",dataType:"json",data:{uname:$("#"+e).find(".user").val(),upwd:md5(n+$("#"+e).find(".psw").val()),ac:"login",s:1},success:function(o){"string"==typeof o&&(o=JSON.parse(o)),""==o.err?"bindModal"==e?wxBindGp("bindModal"):"afterLoginBindModal"==e&&afterLoginBind("afterLoginBindModal",n):exports.showWarn("#"+e+" .warn_501")},error:function(){console.log("ajax fail"),exports.showWarn("#"+e+" .warn_500"),$("#"+e).find(".btn-sign").addClass("enable")}})},window.checkPsw=function(e,n){$.ajax({url:gpID.api.login,timeout:1e4,type:"POST",dataType:"json",data:{upwd:md5(n+$("#"+e).find(".psw").val()),ac:"verifyp",s:1},success:function(o){"string"==typeof o&&(o=JSON.parse(o)),1==o?"afterLoginBindModal"==e&&afterLoginBind("afterLoginBindModal",n):exports.showWarn("#"+e+" .warn_501")},error:function(){console.log("ajax fail"),exports.showWarn("#"+e+" .warn_500"),$("#"+e).find(".btn-sign").addClass("enable")}})},window.wxBindGp=function(e){$.ajax({url:gpID.api.bindGP,timeout:1e4,type:"POST",dataType:"json",data:{uname:$("#"+e).find(".user").val(),ac:"bindwx",gp_data:getUrlParams().gp_data},success:function(n){"string"==typeof n&&(n=JSON.parse(n)),0==n.code?"bindModal"==e?location.replace(location.origin+location.pathname):(pop.globalPopup("#successModal"),exports.initForm.success(n.username)):(exports.loginout(),alert(400==n.code?"绑定失败，当前微信号已绑定其他果盘号":401==n.code?"你的账号已经绑定过":n.msg))}})},window.afterLoginBind=function(e,n){$.ajax({url:gpID.api.bindGP,timeout:1e4,type:"POST",dataType:"json",data:{uname:$("#"+e).find(".user").val(),upwd:md5(n+$("#"+e).find(".psw").val()),uid:window.uid||"",ac:"bind",s:1},success:function(e){"string"==typeof e&&(e=JSON.parse(e)),0==e.code?window.open(e.msg):(exports.loginout(),alert(400==e.code?"绑定失败，当前微信号已绑定其他果盘号":401==e.code?"你的账号已经绑定过":e.msg))}})},exports.login=function(){if($("#rightNowLogin").hasClass("enable")){if(void 0==gpID.api.checkUserExist)return console.log("gpID.api.checkUserExist is not set"),void $("#rightNowLogin").removeClass("enable");if(void 0==gpID.api.login)return console.log("gpID.api.login is not set"),void $("#rightNowLogin").removeClass("enable");console.log("api checked"),$("#rightNowLogin").removeClass("enable"),console.log("start login check"),$.cookie("rememberLoginUserName")&&!$.cookie("rememberLoginUserPass")&&$.removeCookie("rememberLoginUserName"),$.cookie("rememberLoginUserPass")&&!$.cookie("rememberLoginUserName")&&$.removeCookie("rememberLoginUserPass"),$.cookie("rememberLoginUserName")&&$.cookie("rememberLoginUserName")!==$("#loginUser").val()&&($.removeCookie("rememberLoginUserName"),$.removeCookie("rememberLoginUserPass"));var e,n,o=function(e,n){$.ajax({url:gpID.api.checkUserExist,timeout:1e4,type:"GET",data:{u:$("#loginUser").val(),s:1},success:function(o){console.log("ajax ",o,o.length),1==o.length?(exports.showWarn("#loginModal .warn_501"),$("#rightNowLogin").addClass("enable")):e(o.replace('"',"").replace('"',""),n)},error:function(){console.log("ajax fail"),exports.showWarn("#loginModal .warn_500"),$("#rightNowLogin").addClass("enable")}})},i=function(e,o){var i=$("#loginPsw").val();$.cookie("rememberLoginUserPass")||(i=md5(e+i)),$.cookie("rememberLoginUserPass")&&$.cookie("rememberLoginUserPass")!=i&&(i=md5(e+i)),$.ajax({url:gpID.api.login,timeout:1e4,type:"POST",dataType:"json",data:{uname:$("#loginUser").val(),upwd:i,ac:"login",s:1},success:function(e){"string"==typeof e&&(e=JSON.parse(e)),$("#rightNowLogin").addClass("enable"),""==e.err?(n=e.userinfo.uid,$("#rememberPsw")[0]&&$("#rememberPsw")[0].checked?($.cookie("rememberLoginUserPass")||$.cookie("rememberLoginUserName",$("#loginUser").val()),$.cookie("rememberLoginUserPass",i)):($.removeCookie("rememberLoginUserName"),$.removeCookie("rememberLoginUserPass")),void 0===o?location.reload():o()):exports.showWarn("#loginModal .warn_501")},error:function(){console.log("ajax fail"),exports.showWarn("#loginModal .warn_500"),$("#rightNowLogin").addClass("enable")}})};if(e=gpID.check(gpID.checkTable.login),203==e.code)$.cookie("rememberLoginUserPass")||exports.showWarn("#loginModal .warn_"+e.code);else if(exports.showWarn("#loginModal .warn_"+e.code),0!=e.code)return console.log("login check break,static check",e),void $("#rightNowLogin").addClass("enable");o(i,function(){$.get("/xiaozu/apiJumpVip.php?uid="+n,function(e){1==JSON.parse(e).code?location.href="/my/real":location.reload()})}),console.log("finish login check")}},exports.loginout=function(){return void 0==gpID.api.loginOut?void console.log("gpID.api.loginOut is not set"):void $.ajax({url:gpID.api.loginOut,timeout:1e4,type:"GET",dataType:"json",data:{uname:$("#loginUserName>a").text()},complete:function(){console.log("logout"),location.reload()},error:function(){}})},exports.signUp=function(){if(!$("#rightNowSignUp").hasClass("enable"))return!1;if(void 0==gpID.api.signUp)return void $("#rightNowSignUp").addClass("enable");if(!/^[a-zA-Z]\w{5,19}$/.test($("#signUpUser").val()))return exports.showWarn("#signModal .warn_108"),!1;if(0==/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,16}$/.test($("#signUpPsw").val()))return exports.showWarn("#signModal .warn_205"),!1;if($("#signUpPsw").val()!=$("#signUpCheckPsw").val())return exports.showWarn("#signModal .warn_201"),!1;$("#rightNowSignUp").removeClass("enable");var e,n={uname:$("#signUpUser").val(),upwd:$("#signUpPsw").val(),ac:"reg",upwd2:$("#signUpCheckPsw").val()};if(signWithReal.done(function(){swr&&(n.userIDName=$("#signModal .userIDName").val(),n.userIDNumber=$("#signModal .userIDNumber").val())}),!picCheck.checked)return alert("尚未通过验证！"),$("#rightNowSignUp").addClass("enable"),!1;var o=function(){$.ajax({url:gpID.api.signUp,timeout:1e4,type:"POST",dataType:"json",data:n,success:function(e){"string"==typeof e&&(e=JSON.parse(e)),console.log("ajax ",e),$("#rightNowSignUp").addClass("enable"),0==e.code?1==getUrlParams().bind?wxBindGp("signModal"):(pop.globalPopup("#successModal"),exports.initForm.success(e.username)):2==e.code?exports.showWarn("#signModal .warn_503"):1==e.code?exports.showWarn("#signModal .warn_504"):3==e.code?exports.showWarn("#signModal .warn_505"):void 0===e.code&&e.err&&$("#"+(-1!=e.err.indexOf("密码")?"signUpPsw":"signUpUser")).after('<div class="warning">'+e.err+"</div>")},error:function(){console.log("ajax fail"),exports.showWarn("#signModal .warn_502"),$("#rightNowSignUp").addClass("enable")}})};return e=gpID.check(gpID.checkTable.signUp),exports.showWarn("#signModal .warn_"+e.code),0!=e.code?(exports.showWarn("#signModal .warn_108"),console.log("signUp check break,static check",e),void $("#rightNowSignUp").addClass("enable")):void o()},exports.signUpWithPhone=function(){if($("#rightNowSignUpWithPhone").hasClass("enable")){if(void 0==gpID.api.m_register)return console.log("gpID.api.m_register is not set"),void $("#rightNowSignUpWithPhone").addClass("enable");console.log("api checked"),$("#rightNowSignUpWithPhone").removeClass("enable"),console.log("start signUp check");var e=$.trim($("#withPhone").val()),n=$.trim($("#withPhonePsw").val()),o=$.trim($("#withPhoneCode").val());if(!verifyPhone($("#withPhone")))return!1;if(0==/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,16}$/.test(n))return $("#withPhonePsw").siblings(".warning").text("密码仅支持6-16位数字+字母").show(),!1;if(!$(".getCode").data("getcode"))return $("#withPhoneCode").siblings(".warning").text("尚未获取验证码！").show(),!1;$("#signPhoneModal .warning").hide();var i={phone:e,upwd:n,ac:"phone_reg",checkcode:o,sessid:$.cookie("gpsessionid")};signWithReal.done(function(){swr&&(i.userIDName=$("#signPhoneModal .userIDName").val(),i.userIDNumber=$("#signPhoneModal .userIDNumber").val())}),$.ajax({url:gpID.api.m_register,timeout:1e4,type:"POST",dataType:"json",data:i,success:function(e){"string"==typeof e&&(e=JSON.parse(e)),0==e.code?1==getUrlParams().bind?wxBindGp("signPhoneModal"):(pop.globalPopup("#successModal"),exports.initForm.success(e.username)):(e.err.indexOf("验证码")>-1?$("#withPhoneCode").siblings(".warning").text(e.err).show():$("#withPhone").siblings(".warning").text(e.err).show(),$("#rightNowSignUpWithPhone").addClass("enable"))}})}},exports.wxLogin=function(){var e=gpID.api.wxLogin.split("&"),n=e[e.length-1].split("#")[0];n=n+"?backUrl="+(location.origin+location.pathname);var o=gpID.api.wxLogin.replace(/(state)=([^?&#]*)/g,n);window.location.href=o},exports.bindGP=function(){$("#rightNowBind").hasClass("enable")&&getKeyInfo("bindModal",toLogin)},exports.checkUser=function(){getKeyInfo("afterLoginBindModal",checkPsw)},gpID.api.deferred=$.Deferred(),exports.checkLogin=function(){return $.cookie("rememberLoginUserPass")&&$("#rememberPsw").prop("checked",!0),void 0==gpID.api.login?void console.log("gpID.api.login is not set"):void $.ajax({url:gpID.api.login,timeout:1e4,type:"GET",dataType:"json",data:{ac:"checklogin"},success:function(e){"undefined"!=typeof ajaxLogin&&("string"==typeof e&&(e=JSON.parse(e)),gpID.api.deferred.resolve(e),""==e.err&&e.userinfo.uid?(ajaxLogin(e),window.uid=e.userinfo.uid,window.uphone=e.userinfo.uphone,getUrlParams().gp_data&&location.replace(location.origin+location.pathname)):(window.uid=!1,window.uphone=!1))},error:function(e){gpID.api.deferred.reject(e)}})},exports.checkLoginSpecial=function(e){return void 0==gpID.api.login?void console.log("gpID.api.login is not set"):$.ajax({url:gpID.api.login,timeout:1e4,type:"GET",dataType:"json",data:{ac:"checklogin",special:e},success:function(e){"undefined"!=typeof ajaxLogin&&("string"==typeof e&&(e=JSON.parse(e)),ajaxLogin(e))},error:function(e){console.error(e)}})},exports.showWarn=function(e){$(".popupRoot .warning").addClass("hide"),$(e).removeClass("hide").removeAttr("style")},exports.initForm={login:function(){void 0!=$.cookie("rememberLoginUserName")&&($("#loginUser").val($.cookie("rememberLoginUserName")),$.cookie("rememberLoginUserPass")&&($("#loginPsw").val($.cookie("rememberLoginUserPass")),$("#rememberPsw").prop("checked",!0)),$.cookie("rememberLoginUserName")&&$.cookie("rememberLoginUserPass")&&$("#rightNowLogin").addClass("enable"))},signUp:function(){console.log(picCheck),picCheck.init($("#picCheckBox")),$("#picCheckBox").on("mouseenter",function(){$("#picCheckBox .check-img").show()}),$("#picCheckBox").on("mouseleave",function(){$("#picCheckBox .check-img").hide()})},renewCapcha:function(e){$("#"+e).attr("src",gpID.api.captcha+"?tm="+(new Date).getTime())},success:function(e){$("#successSignUpUser").html(e),setTimeout(function(){$("#timeToReturn").text(3)},0),setTimeout(function(){$("#timeToReturn").text(2)},1e3),setTimeout(function(){$("#timeToReturn").text(1)},2e3),setTimeout(function(){location.href="/my/real"},3e3)},bind:function(){$("#bindUser").val()&&$("#bindPsw").val()&&$("#rightNowBind").addClass("enable")},check:function(){$("#afterLoginBindPsw").val("")}},setInputEven("#loginUser",["#loginPsw"],"#rightNowLogin"),setInputEven("#loginPsw",["#loginUser"],"#rightNowLogin"),$("#userNotLogin").on("click",function(){$("#loginUser").val()&&$("#loginPsw").val()&&$("#rightNowLogin").addClass("enable")}),signWithReal.done(function(){swr?(setInputEven("#signUpUser",["#signUpPsw","#signUpCheckPsw","#signModal .userIDName","#signModal .userIDNumber"],"#rightNowSignUp"),setInputEven("#signUpPsw",["#signUpUser","#signUpCheckPsw","#signModal .userIDName","#signModal .userIDNumber"],"#rightNowSignUp"),setInputEven("#signUpCheckPsw",["#signUpUser","#signUpPsw","#signModal .userIDName","#signModal .userIDNumber"],"#rightNowSignUp"),setInputEven("#withPhone",["#withPhonePsw","#withPhoneCode","#signPhoneModal .userIDName","#signPhoneModal .userIDNumber"],"#rightNowSignUpWithPhone"),setInputEven("#withPhonePsw",["#withPhone","#withPhoneCode","#signPhoneModal .userIDName","#signPhoneModal .userIDNumber"],"#rightNowSignUpWithPhone"),setInputEven("#withPhoneCode",["#withPhone","#withPhonePsw","#signPhoneModal .userIDName","#signPhoneModal .userIDNumber"],"#rightNowSignUpWithPhone")):(setInputEven("#signUpUser",["#signUpPsw","#signUpCheckPsw"],"#rightNowSignUp"),setInputEven("#signUpPsw",["#signUpUser","#signUpCheckPsw"],"#rightNowSignUp"),setInputEven("#signUpCheckPsw",["#signUpUser","#signUpPsw"],"#rightNowSignUp"),setInputEven("#withPhone",["#withPhonePsw","#withPhoneCode"],"#rightNowSignUpWithPhone"),setInputEven("#withPhonePsw",["#withPhone","#withPhoneCode"],"#rightNowSignUpWithPhone"),setInputEven("#withPhoneCode",["#withPhone","#withPhonePsw"],"#rightNowSignUpWithPhone"))}),setInputEven("#bindUser",["#bindPsw"],"#rightNowBind"),setInputEven("#bindPsw",["#bindUser"],"#rightNowBind"),setInputEven("#afterLoginBindPsw",["#afterLoginBindUser"],"#afterLoginCheck");var phoneSet={},phoneData={},leftCount,gc=$(".getCode"),wp=$("#withPhone"),setCountNum=function(){var e=gc.data("phone");clearInterval(leftCount),e?(gc.data("getcode",!0),gc.addClass("disable").text(phoneSet["p_"+e]+"s"),leftCount=setInterval(function(){gc.text(phoneSet["p_"+e]+"s"),phoneSet["p_"+e]||(gc.data("getcode",!1).text("获取验证码").removeClass("disable"),clearInterval(leftCount))},1e3)):gc.data("getcode",!1).text("获取验证码").removeClass("disable")};wp.on("blur",function(){var e=wp.val();verifyPhone(wp)&&(phoneSet["p_"+e]?gc.data("phone",e):gc.data("phone",""),$("#signPhoneModal .code .warning").addClass("hide"),setCountNum())});var getPhoneMsgCode=function(){$.get(gpID.api.m_getCode,phoneData).done(function(d){"string"==typeof d&&(d=JSON.parse(d)),0==d.code?(phoneSet["p_"+phoneData.phone]=120,eval("var sit_"+phoneData.phone+'=setInterval(function(){phoneSet["p_'+phoneData.phone+'"]--;if(!phoneSet["p_'+phoneData.phone+'"]){delete phoneSet["p_'+phoneData.phone+'"];clearInterval(sit_'+phoneData.phone+")}},1000);"),setCountNum()):setTimeout(function(){gc.removeClass("disable").next().text(d.msg).removeClass("hide").show()},500)})};$(".getCode:not(.disable)").on("click",function(){var e=$(this);if(e.addClass("disable").next().addClass("hide"),verifyPhone(wp))if(e.data("phone",wp.val()),phoneSet["p_"+wp.val()])setCountNum();else{phoneData={ajax:"getcode",nologin:!0,phone:wp.val(),type:101};var n=new recheck;n.init(),n.startTest(gc),n.testDeferred.done(function(e){e&&(phoneData.verifyImgCode=e),getPhoneMsgCode()}).fail(function(e){alert(e)})}else e.removeClass("disable")}),$(".userIDNumber").on("blur",function(){var e=$(this),n=e.parents(".sign"),o=e.val().trim(),i=[],a={},s=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;if(s.test(o)){if(18==o.length){for(var r=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),t=new Array(1,0,10,9,8,7,6,5,4,3,2),l=0,g=0;17>g;g++)l+=o.substring(g,g+1)*r[g];var d=l%11,p=o.substring(17);2==d?"X"==p||"x"==p?(a.error="身份证号码通过验证！",a.code=!0):(a.error="身份证号码错误！",a.code=!1):p==t[d]?(a.error="身份证号码通过验证！",a.code=!0):(a.error="身份证号码错误！",a.code=!1)}}else a.error="身份证号格式错误",a.code=!1;a.code?(e.removeClass("err").next(".warning").addClass("hide"),i=n.find("#withPhone").length?[n.find(".userIDName"),"#withPhone","#withPhonePsw","#withPhoneCode"]:[n.find(".userIDName"),"#signUpUser","#signUpPsw","#signUpCheckPsw"],checkEmpty(i)&&n.find(".btn-sign").addClass("enable")):(e.addClass("err").next(".warning").text(a.error).removeClass("hide"),n.find(".btn-sign").removeClass("enable"))}),$(".userIDName").on("blur",function(){var e=$(this),n=e.parents(".sign"),o=e.val().trim(),i=[],a={},s=/^[\u2E80-\u9FFF]{2,6}$/;s.test(o)?(a.error="真实姓名正确",a.code=!0):(a.error="真实姓名格式有误",a.code=!1),a.code?(e.removeClass("err").next(".warning").addClass("hide"),i=n.find("#withPhone").length?[n.find(".userIDNumber"),"#withPhone","#withPhonePsw","#withPhoneCode"]:[n.find(".userIDNumber"),"#signUpUser","#signUpPsw","#signUpCheckPsw"],checkEmpty(i)&&n.find(".btn-sign").addClass("enable")):(e.addClass("err").next(".warning").text(a.error).removeClass("hide"),n.find(".btn-sign").removeClass("enable"))})});
;define("gpgame:widget/popupRoot/popupRoot.js",function(o,e){"use strict";e.globalPopup=function(o,e,p){"undefined"==typeof o?$("body").removeClass("globalPopup"):$("body").addClass("globalPopup"),$(".popupRoot").children().removeClass("active"),$(o).addClass("active").css({"margin-left":-$(o).outerWidth()>>1,"margin-top":-$(o).outerHeight()>>1}),$.placeholder.shim(),e&&"function"===$.type(e)&&e(p?$(p).data():{})}});
;define("gpgame:widget/popupRoot/download/download.js",function(a,d){"use strict";d.setDownloader=function(a){function o(d){for(var o=["i","a","ic","ac"],i={},n="",l=0;l<t.length-1;l++)d==t[l]&&(n=o[l]);var r=a[n+"gameid"];return void 0!=r&&""!=r&&(i.gameid=a[n+"gameid"],i.pkg=a[n+"pkg"],i.gamename=a[n+"gamename"]),i}function i(a){for(var d=["downloadI","downloadA","downloadCi","downloadCa","downloadPC"],o="",i=0,n=d.length;n>i;i++)if(a.hasClass(d[i]))return o=t[i];return o}{var n=$("#downLoad_alter");$("#androidCrackPopup"),$("#iosCrackPopup"),n.find("li.downloadCa a")}console.log(a),n.find("li").addClass("hide"),void 0!=a.downloadI&&(n.find("li.downloadI").removeClass("hide"),n.find("li.downloadI a").attr("href",a.downloadI),n.find("li.downloadI a").attr("data-ga",a.gadownI),n.find("li.downloadI .tips img").attr("src",a.qrI)),void 0!=a.downloadA&&(n.find("li.downloadA").removeClass("hide"),n.find("li.downloadA a").attr("href",a.downloadA),n.find("li.downloadA a").attr("data-ga",a.gadownA),n.find("li.downloadA .tips img").attr("src",a.qrA)),void 0!=a.downloadCi&&(n.find("li.downloadCi").removeClass("hide"),n.find("li.downloadCi a").data({downloadCi:a.downloadCi,title:a.title,qrCi:a.qrCi}),n.find("li.downloadCi a").attr("data-ga",a.gadownI),n.find("li.downloadCi a").on("click",function(){d.setCrackDownloader(this)}),n.find("li.downloadCi .tips img").attr("src",a.qrCi)),void 0!=a.downloadCa&&(n.find("li.downloadCa").removeClass("hide"),n.find("li.downloadCa a").off("click"),n.find("li.downloadCa a").attr("href","javascript:;"),n.find("li.downloadCa a").attr("data-ga",a.gadownA),n.find("li.downloadCa .tips img").attr("src",a.qrCa),a.downloadCa.match(/.*\.xpk/)?(n.find("li.downloadCa a").data({downloadCa:a.downloadCa,title:a.title,qrCa:a.qrCa}),n.find("li.downloadCa a").on("click",function(){d.setCrackDownloader(this)})):n.find("li.downloadCa a").attr("href",a.downloadCa)),n.find(".alert_title span").html(a.title),n.css({"margin-top":.5*-n.height()});var l=n.find("li").not(".hide"),t=["iOS","android","iosCrack","andriodCrack","pc"];l.off("click").on("click",function(){var d=xxTongji.getTongjiParam(a,!0),n=i($(this)),l=o(n);n=$.extend(d,l,{platform:n}),xxTongji.getTongji(n)})},d.setCrackDownloader=function(d){var o,i=a("gpgame:widget/popupRoot/popupRoot.js"),n=$(d).data();if(n.qrCa){if(!n.downloadCa.match(/.*\.xpk/))return $(d).attr("href",n.downloadCa);o="#androidCrackPopup",$(o).find("#andCrackCode").attr("src",n.qrCa)}else o="#iosCrackPopup";$(o).find(".alert_title span").html(n.title),i.globalPopup(o);var l=$(o).find(".pop-arr-left");n.hideLeft?l.addClass("hide"):(l.removeClass("hide"),l.click(function(a){a.preventDefault(),a.stopPropagation(),$(o).removeClass("active"),$("#downLoad_alter").addClass("active")}))}});
;define("gpgame:widget/popupRoot/getGiftSuccess/getGiftSuccess.js",function(t,e){"use strict";e.setGiftWindow=function(t){pop.globalPopup("#getGiftSuccess"),$("#getGiftSuccess .code").val(t)};var o="gpgame:static/lib/ZeroClipboard/ZeroClipboard.swf",i=new ZeroClipboard($(".copy"),{moviePath:o});i.on("ready",function(){i.on("aftercopy",function(t){alert("复制成功，复制内容为："+t.data["text/plain"])})})});